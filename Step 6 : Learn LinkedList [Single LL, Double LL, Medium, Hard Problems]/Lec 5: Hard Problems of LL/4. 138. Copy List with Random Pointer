https://leetcode.com/problems/copy-list-with-random-pointer/description/

brute : hashmap -> refer tuf article

optimal : o(3n) -> o(n) and o(n)

class Solution {
    public Node copyRandomList(Node head) {
        insertcopy(head);
        randomnode(head);
        return deepcopy(head);
    }
     public void insertcopy(Node head)
    {
        Node temp=head;
        while(temp!=null) {
            Node nele=temp.next;
            Node cop=new Node(temp.val);
            temp.next=cop;
            cop.next=nele;
            temp=nele;
        }

    }
    public void randomnode(Node head)
    {
        Node temp=head;
        while(temp!=null)
        {
            Node copyran=temp.next;
            if(temp.random!=null)
            {
                copyran.random=temp.random.next;
            }
            else
            {
                copyran.random=null;
            }
            temp=temp.next.next;
        }
       
    }
    public Node deepcopy(Node head)
    {
        Node temp=head;
        Node dum=new Node(-1);
        Node res=dum;
        while(temp!=null)
        {
            res.next=temp.next;
            res=res.next;
            temp.next=temp.next.next;
            temp=temp.next;
        }
        return dum.next;
    }

}
